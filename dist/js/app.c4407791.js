(function(){"use strict";var e={7817:function(e,t,o){var a=o(9242),s=o(3396);const i={class:"wrapper"},n={class:"header"},r={class:"pages"},l=(0,s._)("h2",null,"Todo",-1),c={class:"content"};function u(e,t,o,a,u,d){const g=(0,s.up)("RouterLink"),m=(0,s.up)("RouterView");return(0,s.wg)(),(0,s.iD)("main",null,[(0,s._)("div",i,[(0,s._)("div",n,[(0,s._)("div",r,[l,(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(g,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Todo-List")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(g,{to:"/categories"},{default:(0,s.w5)((()=>[(0,s.Uk)("Categories")])),_:1})])])])]),(0,s._)("div",c,[(0,s.Wm)(m)])])])}var d={name:"App",created(){this.$store.dispatch("categories/loadCategories"),this.$store.dispatch("task/loadTasks")}},g=o(89);const m=(0,g.Z)(d,[["render",u]]);var p=m,h=o(2483);const y=e=>((0,s.dD)("data-v-2697c9c6"),e=e(),(0,s.Cn)(),e),v=y((()=>(0,s._)("i",{class:"fa-solid fa-plus"},null,-1)));function f(e,t,o,i,n,r){const l=(0,s.up)("BaseInput"),c=(0,s.up)("BaseButton"),u=(0,s.up)("DialogWindow"),d=(0,s.up)("CategoryList");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s.Wm)(u,{onCloseDialog:t[3]||(t[3]=e=>n.dialogVisible=!1)},{default:(0,s.w5)((()=>[(0,s._)("form",{onSubmit:t[1]||(t[1]=(0,a.iM)((()=>{}),["prevent"])),onKeyup:t[2]||(t[2]=(0,a.D2)(((...e)=>r.pushCategory&&r.pushCategory(...e)),["enter"]))},[(0,s.Wm)(l,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e)},null,8,["modelValue"]),(0,s.Wm)(c,{onClick:r.pushCategory},{default:(0,s.w5)((()=>[(0,s.Uk)("Push new category")])),_:1},8,["onClick"])],32)])),_:1},512),[[a.F8,n.dialogVisible]]),(0,s.Wm)(d,{categories:e.$store.state.categories.categories},null,8,["categories"]),(0,s.Wm)(c,{onClick:t[4]||(t[4]=e=>this.dialogVisible=!0)},{default:(0,s.w5)((()=>[v])),_:1})],64)}const k=e=>((0,s.dD)("data-v-46524763"),e=e(),(0,s.Cn)(),e),w={class:"category_list"},_={key:0,class:"content"},C={key:1,class:"handler"},D=k((()=>(0,s._)("h4",null,"Press the button to create new category",-1))),b=[D];function I(e,t,o,i,n,r){const l=(0,s.up)("DialogWindow"),c=(0,s.up)("CategoryItem");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s.Wm)(l,{onCloseDialog:t[0]||(t[0]=e=>n.showDialog=!1)},null,512),[[a.F8,n.showDialog]]),(0,s._)("div",w,[o.categories.length?((0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(a.W3,{name:"list",tag:"ul"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.categories,(e=>((0,s.wg)(),(0,s.j4)(c,{key:e.id,category:e,onRemoveCategory:r.removeCategory},null,8,["category","onRemoveCategory"])))),128))])),_:1})])):((0,s.wg)(),(0,s.iD)("div",C,b))])],64)}var T=o(7139);const W={class:"category"},V=["title"],$={class:"category_color"};function O(e,t,o,i,n,r){return(0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("i",{class:"fa-solid fa-xmark",title:"Remove "+o.category.name,onClick:t[0]||(t[0]=(...e)=>r.removeCategory&&r.removeCategory(...e))},null,8,V),(0,s._)("p",null,(0,T.zw)(o.category.name),1),(0,s._)("div",$,[(0,s.wy)((0,s._)("input",{type:"color",name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=e=>o.category.color=e),onChange:t[2]||(t[2]=(...e)=>r.editCategory&&r.editCategory(...e))},null,544),[[a.nr,o.category.color]])])])}var S={name:"CategoryItem",props:{category:{type:Object,required:!0}},methods:{removeCategory(){this.$emit("removeCategory",this.category.id)},editCategory(e){this.$store.commit("categories/editCategory",e.target.value,this.category.id),this.$store.dispatch("categories/saveCategories")}}};const B=(0,g.Z)(S,[["render",O],["__scopeId","data-v-5156bc99"]]);var N=B,x={name:"CategoryList",data(){return{showDialog:!1}},props:{categories:{type:Array,required:!0}},components:{CategoryItem:N,TransitionGroup:a.W3},methods:{removeCategory(e){this.$store.commit("categories/removeCategory",e),this.$store.dispatch("categories/saveCategories")}}};const Z=(0,g.Z)(x,[["render",I],["__scopeId","data-v-46524763"]]);var j=Z,P={name:"CategoriesListPage",data(){return{dialogVisible:!1,name:""}},components:{CategoryList:j},methods:{pushCategory(){let e={id:Math.random(),name:this.name,color:"#cccccc"};this.$store.commit("categories/pushCategory",e),this.dialogVisible=!1,this.name="",this.$store.dispatch("categories/saveCategories")}},actions:{}};const U=(0,g.Z)(P,[["render",f],["__scopeId","data-v-2697c9c6"]]);var L=U;const F={class:"container"},M=(0,s._)("i",{class:"fa-solid fa-plus"},null,-1);function Y(e,t,o,i,n,r){const l=(0,s.up)("TaskForm"),c=(0,s.up)("DialogWindow"),u=(0,s.up)("TaskList"),d=(0,s.up)("BaseButton");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s.Wm)(c,{onCloseDialog:t[0]||(t[0]=e=>n.dialogVisible=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{onPushTask:r.pushTask},null,8,["onPushTask"])])),_:1},512),[[a.F8,n.dialogVisible]]),(0,s._)("div",F,[(0,s.Wm)(u,{tasks:e.$store.state.task.tasks},null,8,["tasks"]),(0,s.Wm)(d,{onClick:t[1]||(t[1]=e=>n.dialogVisible=!0)},{default:(0,s.w5)((()=>[M])),_:1})])],64)}const H=(0,s._)("h3",null,"Push new task",-1),q={class:"inputs"},z={class:"input"},K=(0,s._)("label",{for:"title"},"Task title",-1),R={class:"input"},A=(0,s._)("label",{for:"desc"},"Description",-1);function J(e,t,o,i,n,r){const l=(0,s.up)("BaseSelect"),c=(0,s.up)("BaseButton");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)((()=>{}),["prevent"])),onKeyup:t[3]||(t[3]=(0,a.D2)(((...e)=>r.pushTask&&r.pushTask(...e)),["enter"]))},[H,(0,s._)("div",q,[(0,s._)("div",z,[K,(0,s.wy)((0,s._)("textarea",{id:"title",class:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.title=e)},null,512),[[a.nr,n.title]])]),(0,s._)("div",R,[A,(0,s.wy)((0,s._)("textarea",{id:"desc",class:"desc","onUpdate:modelValue":t[1]||(t[1]=e=>n.body=e)},null,512),[[a.nr,n.body]])])]),(0,s.Wm)(l,{class:"category_select",options:e.$store.state.categories.categories,onSelected:r.chooseCategory},null,8,["options","onSelected"]),(0,s.Wm)(c,{onClick:r.pushTask},{default:(0,s.w5)((()=>[(0,s.Uk)("Create task")])),_:1},8,["onClick"])],32)}var E={name:"TaskForm",data(){return{title:"",body:"",categoryID:"No category"}},methods:{pushTask(){this.title.trim()&&(this.$emit("pushTask",this.title,this.body,this.categoryID),this.title=this.body=this.categoryID="")},chooseCategory(e){this.categoryID=e}}};const G=(0,g.Z)(E,[["render",J]]);var Q=G;const X={class:"task_list"},ee={key:0,class:"content"},te={key:1,class:"handler"},oe=(0,s._)("h4",null,"Press the button below to create new task",-1),ae=[oe];function se(e,t,o,i,n,r){const l=(0,s.up)("TaskItemInfo"),c=(0,s.up)("DialogWindow"),u=(0,s.up)("TaskItem");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s.Wm)(c,{onCloseDialog:t[1]||(t[1]=e=>n.showDialog=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{ref:"info",item:n.chosenItem,onCloseDialog:t[0]||(t[0]=e=>n.showDialog=!1)},null,8,["item"])])),_:1},512),[[a.F8,n.showDialog]]),(0,s._)("div",X,[o.tasks.length?((0,s.wg)(),(0,s.iD)("div",ee,[(0,s.Wm)(a.W3,{name:"list"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tasks,(e=>((0,s.wg)(),(0,s.j4)(u,{key:e.id,taskInfo:e,onShowDetails:r.showDetails},null,8,["taskInfo","onShowDetails"])))),128))])),_:1})])):((0,s.wg)(),(0,s.iD)("div",te,ae))])],64)}const ie={class:"text"},ne=["title"],re={class:"options"},le=(0,s._)("i",{class:"fa-solid fa-check"},null,-1),ce=[le];function ue(e,t,o,i,n,r){return(0,s.wg)(),(0,s.iD)("div",{class:"task",onClick:t[2]||(t[2]=(...e)=>r.showDetails&&r.showDetails(...e))},[(0,s._)("div",ie,[(0,s._)("h4",null,(0,T.zw)(r.validateText(o.taskInfo.title)),1),(0,s._)("p",null,(0,T.zw)(r.validateText(o.taskInfo.body)),1)]),(0,s._)("div",{class:"category",title:r.findCategoryName(o.taskInfo.categoryID)},[(0,s._)("div",{class:"category-color",style:(0,T.j5)("background-color: "+r.findCategoryColor(o.taskInfo.categoryID))},null,4)],8,ne),(0,s._)("div",re,[(0,s._)("div",{class:"option",onClick:[t[0]||(t[0]=(...e)=>r.taskDone&&r.taskDone(...e)),t[1]||(t[1]=(0,a.iM)((()=>{}),["stop"]))],title:"Done!"},ce)])])}var de={name:"TaskItem",props:{taskInfo:{type:Object,required:!0}},methods:{taskDone(){this.$store.commit("task/removeTask",this.taskInfo.id),this.$store.dispatch("task/saveTasks")},validateText(e){return e.length<22?e:e.slice(0,19)+"..."},showDetails(){let e={task:this.taskInfo,color:this.findCategoryColor(this.taskInfo.categoryID),categoryName:this.findCategoryName(this.taskInfo.categoryID)};this.$emit("showDetails",e)},findCategoryName(e){let t=this.$store.state.categories.categories;for(let o=0;o<t.length;o++)if(t[o].id==e)return t[o].name;return"No category"},findCategoryColor(e){let t=this.$store.state.categories.categories;for(let o=0;o<t.length;o++)if(console.log(t[o].id,e),t[o].id==e)return t[o].color;return"#cccccc"}}};const ge=(0,g.Z)(de,[["render",ue]]);var me=ge;const pe=(0,s._)("h2",null,"Your task",-1),he={class:"category_parameters"},ye={class:"category_color"},ve=["value"],fe={class:"text_details"},ke={class:"title"};function we(e,t,o,i,n,r){const l=(0,s.up)("BaseInput");return(0,s.wg)(),(0,s.iD)("div",{class:"details",onSubmit:t[2]||(t[2]=(0,a.iM)((()=>{}),["prevent"]))},[pe,(0,s._)("div",he,[(0,s._)("h3",null,[(0,s.Uk)("Category: "),(0,s._)("span",null,(0,T.zw)(o.item.categoryName),1)]),(0,s._)("div",ye,[(0,s._)("input",{value:o.item.color,type:"color",disabled:""},null,8,ve)])]),(0,s._)("div",fe,[(0,s._)("div",ke,[(0,s.Wm)(l,{modelValue:o.item.task.title,"onUpdate:modelValue":t[0]||(t[0]=e=>o.item.task.title=e),disabled:!0},null,8,["modelValue"])]),(0,s._)("div",null,[(0,s.Wm)(l,{modelValue:o.item.task.body,"onUpdate:modelValue":t[1]||(t[1]=e=>o.item.task.body=e),class:"desc",disabled:!0},null,8,["modelValue"])])])],32)}var _e={name:"TaskItemInfo",props:{item:{type:Object,required:!1}}};const Ce=(0,g.Z)(_e,[["render",we]]);var De=Ce,be={name:"TaskList",data(){return{showDialog:!1,chosenItem:{task:{title:"",body:"",categoryID:""},color:"#cccccc",categoryName:"No category"},infoWindowOpened:!1}},props:{tasks:{type:Array,required:!0}},components:{TaskItem:me,TransitionGroup:a.W3,TaskItemInfo:De,TaskForm:Q},methods:{showDetails(e){this.showDialog=!0,this.chosenItem=e}}};const Ie=(0,g.Z)(be,[["render",se]]);var Te=Ie,We={name:"TaskListPage",data(){return{tasks:[],dialogVisible:!1}},methods:{pushTask(e,t,o){this.dialogVisible=!1;let a={id:Math.random(),title:e,body:t,categoryID:o};this.$store.commit("task/pushTask",a),this.$store.dispatch("task/saveTasks")}},components:{TaskList:Te,TaskForm:Q}};const Ve=(0,g.Z)(We,[["render",Y]]);var $e=Ve;const Oe=(0,h.p7)({history:(0,h.PO)("/"),routes:[{path:"/",component:$e},{path:"/categories",component:L}]});var Se=Oe,Be=o(65);o(541);const Ne={state:()=>({tasks:[]}),mutations:{pushTask(e,t){e.tasks.unshift(t)},removeTask(e,t){e.tasks=e.tasks.filter((e=>e.id!==t))},setTasks(e,t){e.tasks=t},editTask(e,t){e.tasks.forEach((e=>{e.id,t.id}))}},actions:{saveTasks({state:e}){localStorage.setItem("tasks",JSON.stringify(e.tasks))},loadTasks({state:e}){let t=JSON.parse(localStorage.getItem("tasks"));e.tasks=t||[]}},namespaced:!0};o(7658);const xe={state:()=>({categories:[]}),mutations:{pushCategory(e,t){e.categories.push(t)},removeCategory(e,t){e.categories=e.categories.filter((e=>e.id!==t))},editCategory(e,t,o){e.categories.forEach((e=>{e.id!==o||(e.color=t)}))}},actions:{saveCategories({state:e}){localStorage.setItem("categories",JSON.stringify(e.categories))},loadCategories({state:e}){let t=JSON.parse(localStorage.getItem("categories"));e.categories=t||[]}},namespaced:!0};var Ze=(0,Be.MT)({state:{},getters:{},mutations:{setPage(e,t){e.page=t}},actions:{},modules:{task:Ne,categories:xe}});function je(e,t,o,i,n,r){return(0,s.wg)(),(0,s.iD)("div",{class:"layer",onClick:t[1]||(t[1]=(...e)=>r.closeDialog&&r.closeDialog(...e))},[(0,s._)("div",{class:"window",onClick:t[0]||(t[0]=(0,a.iM)((()=>{}),["stop"]))},[(0,s.WI)(e.$slots,"default")])])}var Pe={name:"dialogWindow",methods:{closeDialog(){this.$emit("closeDialog")}}};const Ue=(0,g.Z)(Pe,[["render",je]]);var Le=Ue;function Fe(e,t,o,a,i,n){return(0,s.wg)(),(0,s.iD)("button",null,[(0,s.WI)(e.$slots,"default")])}var Me={name:"BaseButton"};const Ye=(0,g.Z)(Me,[["render",Fe]]);var He=Ye;const qe={class:"input"},ze=(0,s._)("label",{for:"title"},null,-1),Ke=["disabled","value"];function Re(e,t,o,a,i,n){return(0,s.wg)(),(0,s.iD)("div",qe,[ze,(0,s._)("textarea",{disabled:o.disabled,id:"title",value:o.modelValue,onInput:t[0]||(t[0]=(...e)=>n.updateInput&&n.updateInput(...e))},"\r\n        ",40,Ke)])}var Ae={name:"BaseInput",props:{modelValue:{type:[Number,String]},disabled:{type:Boolean}},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const Je=(0,g.Z)(Ae,[["render",Re]]);var Ee=Je;const Ge={class:"select"},Qe=(0,s._)("label",{for:""},"Choose task category",-1),Xe=(0,s._)("option",{value:"no_category",selected:"",disabled:""},"No category",-1),et=["value"];function tt(e,t,o,a,i,n){return(0,s.wg)(),(0,s.iD)("div",Ge,[Qe,(0,s._)("select",{onChange:t[0]||(t[0]=(...e)=>n.selected&&n.selected(...e))},[Xe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id},(0,T.zw)(e.name),9,et)))),256))],32)])}var ot={name:"BaseSelect",props:{options:{type:Array,required:!0,default:[]}},methods:{selected(e){this.$emit("selected",e.target.value)}}};const at=(0,g.Z)(ot,[["render",tt]]);var st=at,it={DialogWindow:Le,BaseButton:He,BaseInput:Ee,BaseSelect:st};const nt=(0,a.ri)(p);for(let rt in it)nt.component(rt,it[rt]);nt.use(Ze).use(Se).mount("#app")}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,i){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],i=e[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(r=!1,i<n&&(n=i));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,s,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,n=a[0],r=a[1],l=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(l)var u=l(o)}for(t&&t(a);c<n.length;c++)i=n[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},a=self["webpackChunktodo_list_vue"]=self["webpackChunktodo_list_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(7817)}));a=o.O(a)})();
//# sourceMappingURL=app.c4407791.js.map